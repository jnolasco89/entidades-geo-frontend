webpackJsonp([10],{zV5z:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("mvHQ"),o=a.n(r),s=a("5tbY"),n=a("whc6"),l=a("qaY0"),i=a("6I01"),c=a("7+uW"),u=new l.a,d=new c.default,m={components:{InputTextDinamico:s.default,Mapa:n.default},mounted:function(){this.sedeActual=i.a.state.sede,this.departamentos=u.getDepartamentos()},data:function(){return{storeState:i.a.state,departamentos:[],municipios:[],agregandoSede:!0,textosControles:["Agregar Sede","Editar Sede"],sedeActual:{departamento:null,municipio:null,direccion:null,coordenadas:{longitud:null,latitud:null},telefonos:[{valor:null}],faxes:[{valor:null}],correos:[{valor:null}]},configMapa:{alto:"900px",eventBus:d}}},methods:{cargarMunicipios:function(){this.municipios=u.getMunicipios(this.sedeActual.departamento.DepartamentoID)},guardarSede:function(){var e=this;this.$refs.formDatosSede.validate().then(function(t){t&&(e.agregandoSede?(i.a.agregarSedeEntidad(JSON.parse(o()(e.sedeActual))),e.resetSedeActual(),e.$refs.formDatosSede.reset()):(i.a.setSedeEnArrayEntidad(i.a.state.indiceSede,JSON.parse(o()(e.sedeActual))),e.resetSedeActual(),e.$refs.formDatosSede.reset()),d.$emit("resetMapa"))})},limpiarFormnulario:function(){this.resetSedeActual(),this.$refs.formDatosSede.reset()},resetSedeActual:function(){i.a.setSede({departamento:null,municipio:null,direccion:null,coordenadas:{longitud:null,latitud:null},telefonos:[{valor:null}],faxes:[{valor:null}],correos:[{valor:null}],contactos:[]}),this.sedeActual=this.storeState.sede}},computed:{textoFormulario:function(){return this.agregandoSede?this.textosControles[0]:this.textosControles[1]},textoBtnFormulario:function(){return this.agregandoSede?this.textosControles[0]:this.textosControles[1]}},watch:{"storeState.sede":function(e){this.sedeActual=this.storeState.sede,null!=this.sedeActual.departamento&&null!=this.sedeActual.municipio?this.agregandoSede=!1:(this.agregandoSede=!0,this.$refs.formDatosSede.reset(),d.$emit("resetMapa"))}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card",{attrs:{outlined:""}},[a("v-card-text",[a("ValidationObserver",{ref:"formDatosSede",scopedSlots:e._u([{key:"default",fn:function(t){t.validate;var r=t.reset;return[a("v-form",{on:{reset:function(e){return e.preventDefault(),r(e)}}},[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("ValidationProvider",{attrs:{name:"Departamento",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("v-select",{attrs:{items:e.departamentos,label:"Seleccione un departamento","item-text":"DepartamentoLbl","item-value":"DepartamentoID","return-object":"","error-messages":r},on:{change:e.cargarMunicipios},model:{value:e.sedeActual.departamento,callback:function(t){e.$set(e.sedeActual,"departamento",t)},expression:"sedeActual.departamento"}})]}}],null,!0)})],1),e._v(" "),a("v-col",{attrs:{cols:"6"}},[a("ValidationProvider",{attrs:{name:"Municipio",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("v-select",{attrs:{items:e.municipios,label:"Seleccione un municipio","item-text":"MunicipioLbl","item-value":"MUN_ID","no-data-text":"Debe seleccionar un departamento","return-object":"","error-messages":r},model:{value:e.sedeActual.municipio,callback:function(t){e.$set(e.sedeActual,"municipio",t)},expression:"sedeActual.municipio"}})]}}],null,!0)})],1),e._v(" "),a("v-col",{attrs:{cols:"12"}},[a("ValidationProvider",{attrs:{name:"Direccion",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("v-textarea",{attrs:{"auto-grow":"",label:"Direccion",rows:"1","error-messages":r},model:{value:e.sedeActual.direccion,callback:function(t){e.$set(e.sedeActual,"direccion",t)},expression:"sedeActual.direccion"}})]}}],null,!0)})],1),e._v(" "),a("v-col",{attrs:{cols:"6"}},[a("ValidationProvider",{attrs:{name:"Longitud",rules:{regex:/^-?[1-9]{1}[0-9]{0,}.[0-9]{1,}$/}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("v-text-field",{attrs:{label:"Longitud","error-messages":r},model:{value:e.sedeActual.coordenadas.longitud,callback:function(t){e.$set(e.sedeActual.coordenadas,"longitud",t)},expression:"sedeActual.coordenadas.longitud"}})]}}],null,!0)})],1),e._v(" "),a("v-col",{attrs:{cols:"6"}},[a("ValidationProvider",{attrs:{name:"Latitud",rules:{regex:/^-?[1-9]{1}[0-9]{0,}.[0-9]{1,}$/}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("v-text-field",{attrs:{label:"Latitud","error-messages":r},model:{value:e.sedeActual.coordenadas.latitud,callback:function(t){e.$set(e.sedeActual.coordenadas,"latitud",t)},expression:"sedeActual.coordenadas.latitud"}})]}}],null,!0)})],1),e._v(" "),a("v-col",{attrs:{cols:"4"}},[a("input-text-dinamico",{attrs:{"prepend-icon":"phone",label:"Telefono","nombre-campo":"Telefono",reglas:{required:!0,regex:/^(2|6|7)[0-9]{3}-[0-9]{4}$/},mascara:"####-####","texto-btn-agregar":"Agregar otro telefono",inputs:e.sedeActual.telefonos,lista:e.sedeActual.telefonos},on:{"update:lista":function(t){return e.$set(e.sedeActual,"telefonos",t)}}})],1),e._v(" "),a("v-col",{attrs:{cols:"4"}},[a("input-text-dinamico",{attrs:{"prepend-icon":"local_printshop",label:"Fax","nombre-campo":"Fax",reglas:{required:!0},"texto-btn-agregar":"Agregar otro fax",inputs:e.sedeActual.faxes,lista:e.sedeActual.faxes},on:{"update:lista":function(t){return e.$set(e.sedeActual,"faxes",t)}}})],1),e._v(" "),a("v-col",{attrs:{cols:"4"}},[a("input-text-dinamico",{attrs:{"prepend-icon":"alternate_email",label:"Correo electronico","nombre-campo":"Correo",reglas:{required:!0,email:!0},"texto-btn-agregar":"Agregar otro correo",inputs:e.sedeActual.correos,lista:e.sedeActual.correos},on:{"update:lista":function(t){return e.$set(e.sedeActual,"correos",t)}}})],1)],1),e._v(" "),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"text-center"},[a("v-btn",{staticClass:"ma-2",attrs:{color:"primary"},on:{click:e.guardarSede}},[a("v-icon",{attrs:{left:""}},[e._v("check")]),e._v("\n                    "+e._s(e.textoBtnFormulario)+"\n                  ")],1),e._v(" "),a("v-btn",{staticClass:"ma-2",attrs:{color:"default"},on:{click:e.limpiarFormnulario}},[a("v-icon",{attrs:{left:""}},[e._v("clear")]),e._v("Cancelar\n                  ")],1)],1)])],1)],1)]}}])})],1)],1)],1),e._v(" "),a("v-col",{attrs:{cols:"12"}},[a("mapa",{attrs:{config:e.configMapa,coordenadas:e.sedeActual.coordenadas}})],1)],1)},staticRenderFns:[]},f=a("VU/8")(m,p,!1,null,null,null);t.default=f.exports}});
//# sourceMappingURL=10.27c9a43b1fe0fc1cdd5d.js.map