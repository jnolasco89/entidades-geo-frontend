webpackJsonp([12],{wwiX:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var a=e("mvHQ"),r=e.n(a),c=e("5tbY"),n=e("lwxB"),l=e("6I01"),s={components:{InputTextDinamico:c.default,ListaPaginacion:n.default},mounted:function(){this.contactos=this.storeState.sede.contactos},data:function(){return{storeState:l.a.state,prueba:null,agregandoContacto:!0,indiceContaco:null,textosControles:["Agregar Contacto","Editar Contacto"],configLista:{titulo:"Sedes entidad",color:"#fff",encabezados:[{nombre:"datosPersonales",texto:"Datos personales",anchos:{xs:12,sm:12,md:4,lg:4,xl:4}},{nombre:"telefonos",texto:"Telefono(s)",anchos:{xs:12,sm:12,md:3,lg:3,xl:3}},{nombre:"correos",texto:"Correo(s)",anchos:{xs:12,sm:12,md:3,lg:3,xl:3}},{nombre:"acciones",texto:"Acciones",anchos:{xs:12,sm:12,md:2,lg:2,xl:2}}],itemAvatar:{ver:!0,icono:"person"},itemAccion:{ver:!0}},contactoActual:{primerNombre:null,segundoNombre:null,tercerNombre:null,primerApellido:null,segundoApellido:null,cargo:null,correos:[{valor:null}],telefonos:[{valor:null}]},contactos:[]}},methods:{guardarContacto:function(){var t=this;this.$refs.formDatosContacto.validate().then(function(o){if(o)if(t.agregandoContacto){var e=t.crearNombreCompleto();t.contactoActual.nombreCompleto=e,l.a.agregarContactoSede(t.contactoActual),t.resetContactoActual(),t.$refs.formDatosContacto.reset()}else t.contactos[t.indiceContaco].primerNombre=t.contactoActual.primerNombre,t.contactos[t.indiceContaco].segundoNombre=t.contactoActual.segundoNombre,t.contactos[t.indiceContaco].tercerNombre=t.contactoActual.tercerNombre,t.contactos[t.indiceContaco].primerApellido=t.contactoActual.primerApellido,t.contactos[t.indiceContaco].segundoApellido=t.contactoActual.segundoApellido,t.contactos[t.indiceContaco].nombreCompleto=t.crearNombreCompleto(),t.contactos[t.indiceContaco].cargo=t.contactoActual.cargo,t.contactos[t.indiceContaco].correos=t.contactoActual.correos,t.contactos[t.indiceContaco].telefonos=t.contactoActual.telefonos,t.resetContactoActual(),t.agregandoContacto=!0,t.indiceContaco=null,t.$refs.formDatosContacto.reset()})},limpiarFormnulario:function(){this.resetContactoActual(),this.agregandoContacto=!0,this.$refs.formDatosContacto.reset()},limpiarTodo:function(){this.limpiarFormnulario(),this.contactos=[]},resetContactoActual:function(){this.contactoActual={primerNombre:null,segundoNombre:null,tercerNombre:null,primerApellido:null,segundoApellido:null,cargo:null,correos:[{valor:null}],telefonos:[{valor:null}]}},crearNombreCompleto:function(){return this.contactoActual.primerNombre+(null!=this.contactoActual.segundoNombre?" "+this.contactoActual.segundoNombre:"")+(null!=this.contactoActual.tercerNombre?" "+this.contactoActual.tercerNombre:"")+(this.contactoActual.primerApellido=" "+this.contactoActual.primerApellido)+(null!=this.contactoActual.segundoApellido?" "+this.contactoActual.segundoApellido:"")},editarContacto:function(t,o){this.agregandoContacto=!1,this.indiceContaco=o;var e=JSON.parse(r()(this.contactos[o]));this.contactoActual=e},eliminarContacto:function(t,o){l.a.eliminarContactoSede(o)}},computed:{textoFormulario:function(){return this.agregandoContacto?this.textosControles[0]:this.textosControles[1]},textoBtnFormulario:function(){return this.agregandoContacto?this.textosControles[0]:this.textosControles[1]}},watch:{"storeState.sede":function(t){this.contactos=this.storeState.sede.contactos}}},i={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-card",{attrs:{outlined:""}},[e("v-card-text",[e("ValidationObserver",{ref:"formDatosContacto",scopedSlots:t._u([{key:"default",fn:function(o){o.validate;var a=o.reset;return[e("form",{on:{reset:function(t){return t.preventDefault(),a(t)}}},[e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("div",{staticClass:"overline mb-4"},[t._v("Nombre de persona de contacto")])]),t._v(" "),e("v-col",{attrs:{cols:"4"}},[e("ValidationProvider",{attrs:{name:"Primer Nombre",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(o){var a=o.errors;return[e("v-text-field",{attrs:{label:"Primer nombre","error-messages":a},model:{value:t.contactoActual.primerNombre,callback:function(o){t.$set(t.contactoActual,"primerNombre",o)},expression:"contactoActual.primerNombre"}})]}}],null,!0)})],1),t._v(" "),e("v-col",{attrs:{cols:"4"}},[e("v-text-field",{attrs:{label:"Segundo nombre"},model:{value:t.contactoActual.segundoNombre,callback:function(o){t.$set(t.contactoActual,"segundoNombre",o)},expression:"contactoActual.segundoNombre"}})],1),t._v(" "),e("v-col",{attrs:{cols:"4"}},[e("v-text-field",{attrs:{label:"Tercer nombre"},model:{value:t.contactoActual.tercerNombre,callback:function(o){t.$set(t.contactoActual,"tercerNombre",o)},expression:"contactoActual.tercerNombre"}})],1),t._v(" "),e("v-col",{attrs:{cols:"4"}},[e("ValidationProvider",{attrs:{name:"Primer Apellido",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(o){var a=o.errors;return[e("v-text-field",{attrs:{label:"Primer apellido","error-messages":a},model:{value:t.contactoActual.primerApellido,callback:function(o){t.$set(t.contactoActual,"primerApellido",o)},expression:"contactoActual.primerApellido"}})]}}],null,!0)})],1),t._v(" "),e("v-col",{attrs:{cols:"4"}},[e("v-text-field",{attrs:{label:"Segundo apellido"},model:{value:t.contactoActual.segundoApellido,callback:function(o){t.$set(t.contactoActual,"segundoApellido",o)},expression:"contactoActual.segundoApellido"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("div",{staticClass:"overline mb-4"},[t._v("Datos laborales")])]),t._v(" "),e("v-col",{attrs:{cols:"4"}},[e("ValidationProvider",{attrs:{name:"Cargo",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(o){var a=o.errors;return[e("v-text-field",{attrs:{label:"Cargo","error-messages":a},model:{value:t.contactoActual.cargo,callback:function(o){t.$set(t.contactoActual,"cargo",o)},expression:"contactoActual.cargo"}})]}}],null,!0)})],1),t._v(" "),e("v-col",{attrs:{cols:"4"}},[e("input-text-dinamico",{attrs:{"prepend-icon":"alternate_email",label:"Correo electronico","nombre-campo":"Correo",reglas:{required:!0,email:!0},"texto-btn-agregar":"Agregar otro correo",inputs:t.contactoActual.correos,lista:t.contactoActual.correos},on:{"update:lista":function(o){return t.$set(t.contactoActual,"correos",o)}}})],1),t._v(" "),e("v-col",{attrs:{cols:"4"}},[e("input-text-dinamico",{attrs:{"prepend-icon":"phone",label:"Telefono","nombre-campo":"Telefono",reglas:{required:!0,regex:/^(2|6|7)[0-9]{3}-[0-9]{4}$/},mascara:"####-####","texto-btn-agregar":"Agregar otro telefono",inputs:t.contactoActual.telefonos,lista:t.contactoActual.telefonos},on:{"update:lista":function(o){return t.$set(t.contactoActual,"telefonos",o)}}})],1)],1),t._v(" "),e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("div",{staticClass:"text-center"},[e("v-btn",{staticClass:"ma-2",attrs:{color:"primary"},on:{click:t.guardarContacto}},[e("v-icon",{attrs:{left:""}},[t._v("check")]),t._v("\n                    "+t._s(t.textoBtnFormulario)+"\n                  ")],1),t._v(" "),e("v-btn",{staticClass:"ma-2",attrs:{color:"default"},on:{click:t.limpiarFormnulario}},[e("v-icon",{attrs:{left:""}},[t._v("clear")]),t._v("Cancelar\n                  ")],1)],1)])],1)],1)]}}])})],1)],1)],1),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("lista-paginacion",{attrs:{config:t.configLista,items:t.contactos},scopedSlots:t._u([{key:"datosPersonales",fn:function(o){return[e("v-card-text",{staticStyle:{"padding-top":"2px","padding-bottom":"2px","padding-left":"5px","padding-right":"5px"}},[e("v-row",{staticStyle:{padding:"0px"},attrs:{align:"start",justify:"start","no-gutters":""}},[e("v-col",{attrs:{cols:"3"}},[t._v("Nombre")]),t._v(" "),e("v-col",{attrs:{cols:"9"}},[e("b",[t._v(t._s(o.item.nombreCompleto))])]),t._v(" "),e("v-col",{attrs:{cols:"3"}},[t._v("Cargo")]),t._v(" "),e("v-col",{attrs:{cols:"9"}},[e("b",[t._v(t._s(o.item.cargo))])])],1)],1)]}},{key:"telefonos",fn:function(o){return[e("v-row",{attrs:{align:"start",justify:"start","no-gutters":""}},[e("v-col",{attrs:{cols:"2"}},[e("v-icon",{attrs:{color:"indigo"}},[t._v("mdi-phone")])],1),t._v(" "),e("v-col",{attrs:{cols:"10"}},[e("b",[e("ul",{staticStyle:{"list-style":"none",padding:"0px"}},t._l(o.item.telefonos,function(o,a){return e("li",{key:a+"-"+o.valor,staticStyle:{"padding-top":"2px","padding-bottom":"2px"}},[t._v(t._s(o.valor))])}),0)])])],1)]}},{key:"correos",fn:function(o){return[e("v-row",{attrs:{align:"start",justify:"start","no-gutters":""}},[e("v-col",{attrs:{cols:"2"}},[e("v-icon",{attrs:{color:"indigo"}},[t._v("email")])],1),t._v(" "),e("v-col",{attrs:{cols:"10"}},[e("b",[e("ul",{staticStyle:{"list-style":"none",padding:"0px"}},t._l(o.item.correos,function(o,a){return e("li",{key:a+"-"+o.valor,staticStyle:{"padding-top":"2px","padding-bottom":"2px"}},[t._v(t._s(o.valor))])}),0)])])],1)]}},{key:"acciones",fn:function(o){return[e("ul",{staticStyle:{"list-style":"none",padding:"0px"}},[e("li",[e("v-btn",{staticClass:"ma-2",attrs:{text:"",color:"primary"},on:{click:function(e){return t.editarContacto(o.item,o.indexFila)}}},[e("v-icon",{attrs:{left:""}},[t._v("edit")]),t._v("Editar\n            ")],1)],1),t._v(" "),e("li",[e("v-btn",{staticClass:"ma-2",attrs:{text:"",color:"primary"},on:{click:function(e){return t.eliminarContacto(o.item,o.indexFila)}}},[e("v-icon",{attrs:{left:""}},[t._v("delete")]),t._v("Eliminar\n            ")],1)],1)])]}}])})],1)],1)},staticRenderFns:[]},u=e("VU/8")(s,i,!1,null,null,null);o.default=u.exports}});
//# sourceMappingURL=12.a81582fbf2328f04d859.js.map