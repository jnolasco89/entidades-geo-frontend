webpackJsonp([4,10,12],{wwiX:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o("mvHQ"),r=o.n(a),n=o("5tbY"),l=o("lwxB"),c=o("6I01"),s={components:{InputTextDinamico:n.default,ListaPaginacion:l.default},mounted:function(){this.contactos=this.storeState.sede.contactos},data:function(){return{storeState:c.a.state,prueba:null,agregandoContacto:!0,indiceContaco:null,textosControles:["Agregar Contacto","Editar Contacto"],configLista:{titulo:"Sedes entidad",color:"#fff",encabezados:[{nombre:"datosPersonales",texto:"Datos personales",anchos:{xs:12,sm:12,md:4,lg:4,xl:4}},{nombre:"telefonos",texto:"Telefono(s)",anchos:{xs:12,sm:12,md:3,lg:3,xl:3}},{nombre:"correos",texto:"Correo(s)",anchos:{xs:12,sm:12,md:3,lg:3,xl:3}},{nombre:"acciones",texto:"Acciones",anchos:{xs:12,sm:12,md:2,lg:2,xl:2}}],itemAvatar:{ver:!0,icono:"person"},itemAccion:{ver:!0}},contactoActual:{primerNombre:null,segundoNombre:null,tercerNombre:null,primerApellido:null,segundoApellido:null,cargo:null,correos:[{valor:null}],telefonos:[{valor:null}]},contactos:[]}},methods:{guardarContacto:function(){var t=this;this.$refs.formDatosContacto.validate().then(function(e){if(e)if(t.agregandoContacto){var o=t.crearNombreCompleto();t.contactoActual.nombreCompleto=o,c.a.agregarContactoSede(t.contactoActual),t.resetContactoActual(),t.$refs.formDatosContacto.reset()}else t.contactos[t.indiceContaco].primerNombre=t.contactoActual.primerNombre,t.contactos[t.indiceContaco].segundoNombre=t.contactoActual.segundoNombre,t.contactos[t.indiceContaco].tercerNombre=t.contactoActual.tercerNombre,t.contactos[t.indiceContaco].primerApellido=t.contactoActual.primerApellido,t.contactos[t.indiceContaco].segundoApellido=t.contactoActual.segundoApellido,t.contactos[t.indiceContaco].nombreCompleto=t.crearNombreCompleto(),t.contactos[t.indiceContaco].cargo=t.contactoActual.cargo,t.contactos[t.indiceContaco].correos=t.contactoActual.correos,t.contactos[t.indiceContaco].telefonos=t.contactoActual.telefonos,t.resetContactoActual(),t.agregandoContacto=!0,t.indiceContaco=null,t.$refs.formDatosContacto.reset()})},limpiarFormnulario:function(){this.resetContactoActual(),this.agregandoContacto=!0,this.$refs.formDatosContacto.reset()},limpiarTodo:function(){this.limpiarFormnulario(),this.contactos=[]},resetContactoActual:function(){this.contactoActual={primerNombre:null,segundoNombre:null,tercerNombre:null,primerApellido:null,segundoApellido:null,cargo:null,correos:[{valor:null}],telefonos:[{valor:null}]}},crearNombreCompleto:function(){return this.contactoActual.primerNombre+(null!=this.contactoActual.segundoNombre?" "+this.contactoActual.segundoNombre:"")+(null!=this.contactoActual.tercerNombre?" "+this.contactoActual.tercerNombre:"")+(this.contactoActual.primerApellido=" "+this.contactoActual.primerApellido)+(null!=this.contactoActual.segundoApellido?" "+this.contactoActual.segundoApellido:"")},editarContacto:function(t,e){this.agregandoContacto=!1,this.indiceContaco=e;var o=JSON.parse(r()(this.contactos[e]));this.contactoActual=o},eliminarContacto:function(t,e){c.a.eliminarContactoSede(e)}},computed:{textoFormulario:function(){return this.agregandoContacto?this.textosControles[0]:this.textosControles[1]},textoBtnFormulario:function(){return this.agregandoContacto?this.textosControles[0]:this.textosControles[1]}},watch:{"storeState.sede":function(t){this.contactos=this.storeState.sede.contactos}}},i={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-row",[o("v-col",{attrs:{cols:"12"}},[o("v-card",{attrs:{outlined:""}},[o("v-card-text",[o("ValidationObserver",{ref:"formDatosContacto",scopedSlots:t._u([{key:"default",fn:function(e){e.validate;var a=e.reset;return[o("form",{on:{reset:function(t){return t.preventDefault(),a(t)}}},[o("v-row",[o("v-col",{attrs:{cols:"12"}},[o("div",{staticClass:"overline mb-4"},[t._v("Nombre de persona de contacto")])]),t._v(" "),o("v-col",{attrs:{cols:"4"}},[o("ValidationProvider",{attrs:{name:"Primer Nombre",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[o("v-text-field",{attrs:{label:"Primer nombre","error-messages":a},model:{value:t.contactoActual.primerNombre,callback:function(e){t.$set(t.contactoActual,"primerNombre",e)},expression:"contactoActual.primerNombre"}})]}}],null,!0)})],1),t._v(" "),o("v-col",{attrs:{cols:"4"}},[o("v-text-field",{attrs:{label:"Segundo nombre"},model:{value:t.contactoActual.segundoNombre,callback:function(e){t.$set(t.contactoActual,"segundoNombre",e)},expression:"contactoActual.segundoNombre"}})],1),t._v(" "),o("v-col",{attrs:{cols:"4"}},[o("v-text-field",{attrs:{label:"Tercer nombre"},model:{value:t.contactoActual.tercerNombre,callback:function(e){t.$set(t.contactoActual,"tercerNombre",e)},expression:"contactoActual.tercerNombre"}})],1),t._v(" "),o("v-col",{attrs:{cols:"4"}},[o("ValidationProvider",{attrs:{name:"Primer Apellido",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[o("v-text-field",{attrs:{label:"Primer apellido","error-messages":a},model:{value:t.contactoActual.primerApellido,callback:function(e){t.$set(t.contactoActual,"primerApellido",e)},expression:"contactoActual.primerApellido"}})]}}],null,!0)})],1),t._v(" "),o("v-col",{attrs:{cols:"4"}},[o("v-text-field",{attrs:{label:"Segundo apellido"},model:{value:t.contactoActual.segundoApellido,callback:function(e){t.$set(t.contactoActual,"segundoApellido",e)},expression:"contactoActual.segundoApellido"}})],1),t._v(" "),o("v-col",{attrs:{cols:"12"}},[o("div",{staticClass:"overline mb-4"},[t._v("Datos laborales")])]),t._v(" "),o("v-col",{attrs:{cols:"4"}},[o("ValidationProvider",{attrs:{name:"Cargo",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[o("v-text-field",{attrs:{label:"Cargo","error-messages":a},model:{value:t.contactoActual.cargo,callback:function(e){t.$set(t.contactoActual,"cargo",e)},expression:"contactoActual.cargo"}})]}}],null,!0)})],1),t._v(" "),o("v-col",{attrs:{cols:"4"}},[o("input-text-dinamico",{attrs:{"prepend-icon":"alternate_email",label:"Correo electronico","nombre-campo":"Correo",reglas:{required:!0,email:!0},"texto-btn-agregar":"Agregar otro correo",inputs:t.contactoActual.correos,lista:t.contactoActual.correos},on:{"update:lista":function(e){return t.$set(t.contactoActual,"correos",e)}}})],1),t._v(" "),o("v-col",{attrs:{cols:"4"}},[o("input-text-dinamico",{attrs:{"prepend-icon":"phone",label:"Telefono","nombre-campo":"Telefono",reglas:{required:!0,regex:/^(2|6|7)[0-9]{3}-[0-9]{4}$/},mascara:"####-####","texto-btn-agregar":"Agregar otro telefono",inputs:t.contactoActual.telefonos,lista:t.contactoActual.telefonos},on:{"update:lista":function(e){return t.$set(t.contactoActual,"telefonos",e)}}})],1)],1),t._v(" "),o("v-row",[o("v-col",{attrs:{cols:"12"}},[o("div",{staticClass:"text-center"},[o("v-btn",{staticClass:"ma-2",attrs:{color:"primary"},on:{click:t.guardarContacto}},[o("v-icon",{attrs:{left:""}},[t._v("check")]),t._v("\n                    "+t._s(t.textoBtnFormulario)+"\n                  ")],1),t._v(" "),o("v-btn",{staticClass:"ma-2",attrs:{color:"default"},on:{click:t.limpiarFormnulario}},[o("v-icon",{attrs:{left:""}},[t._v("clear")]),t._v("Cancelar\n                  ")],1)],1)])],1)],1)]}}])})],1)],1)],1),t._v(" "),o("v-col",{attrs:{cols:"12"}},[o("lista-paginacion",{attrs:{config:t.configLista,items:t.contactos},scopedSlots:t._u([{key:"datosPersonales",fn:function(e){return[o("v-card-text",{staticStyle:{"padding-top":"2px","padding-bottom":"2px","padding-left":"5px","padding-right":"5px"}},[o("v-row",{staticStyle:{padding:"0px"},attrs:{align:"start",justify:"start","no-gutters":""}},[o("v-col",{attrs:{cols:"3"}},[t._v("Nombre")]),t._v(" "),o("v-col",{attrs:{cols:"9"}},[o("b",[t._v(t._s(e.item.nombreCompleto))])]),t._v(" "),o("v-col",{attrs:{cols:"3"}},[t._v("Cargo")]),t._v(" "),o("v-col",{attrs:{cols:"9"}},[o("b",[t._v(t._s(e.item.cargo))])])],1)],1)]}},{key:"telefonos",fn:function(e){return[o("v-row",{attrs:{align:"start",justify:"start","no-gutters":""}},[o("v-col",{attrs:{cols:"2"}},[o("v-icon",{attrs:{color:"indigo"}},[t._v("mdi-phone")])],1),t._v(" "),o("v-col",{attrs:{cols:"10"}},[o("b",[o("ul",{staticStyle:{"list-style":"none",padding:"0px"}},t._l(e.item.telefonos,function(e,a){return o("li",{key:a+"-"+e.valor,staticStyle:{"padding-top":"2px","padding-bottom":"2px"}},[t._v(t._s(e.valor))])}),0)])])],1)]}},{key:"correos",fn:function(e){return[o("v-row",{attrs:{align:"start",justify:"start","no-gutters":""}},[o("v-col",{attrs:{cols:"2"}},[o("v-icon",{attrs:{color:"indigo"}},[t._v("email")])],1),t._v(" "),o("v-col",{attrs:{cols:"10"}},[o("b",[o("ul",{staticStyle:{"list-style":"none",padding:"0px"}},t._l(e.item.correos,function(e,a){return o("li",{key:a+"-"+e.valor,staticStyle:{"padding-top":"2px","padding-bottom":"2px"}},[t._v(t._s(e.valor))])}),0)])])],1)]}},{key:"acciones",fn:function(e){return[o("ul",{staticStyle:{"list-style":"none",padding:"0px"}},[o("li",[o("v-btn",{staticClass:"ma-2",attrs:{text:"",color:"primary"},on:{click:function(o){return t.editarContacto(e.item,e.indexFila)}}},[o("v-icon",{attrs:{left:""}},[t._v("edit")]),t._v("Editar\n            ")],1)],1),t._v(" "),o("li",[o("v-btn",{staticClass:"ma-2",attrs:{text:"",color:"primary"},on:{click:function(o){return t.eliminarContacto(e.item,e.indexFila)}}},[o("v-icon",{attrs:{left:""}},[t._v("delete")]),t._v("Eliminar\n            ")],1)],1)])]}}])})],1)],1)},staticRenderFns:[]},u=o("VU/8")(s,i,!1,null,null,null);e.default=u.exports},zV5z:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o("mvHQ"),r=o.n(a),n=o("5tbY"),l=o("whc6"),c=o("qaY0"),s=o("6I01"),i=o("7+uW"),u=new c.a,d=new i.default,m={components:{InputTextDinamico:n.default,Mapa:l.default},mounted:function(){this.sedeActual=s.a.state.sede,this.departamentos=u.getDepartamentos()},data:function(){return{storeState:s.a.state,departamentos:[],municipios:[],agregandoSede:!0,textosControles:["Agregar Sede","Editar Sede"],sedeActual:{departamento:null,municipio:null,direccion:null,coordenadas:{longitud:null,latitud:null},telefonos:[{valor:null}],faxes:[{valor:null}],correos:[{valor:null}]},configMapa:{alto:"900px",eventBus:d}}},methods:{cargarMunicipios:function(){this.municipios=u.getMunicipios(this.sedeActual.departamento.DepartamentoID)},guardarSede:function(){var t=this;this.$refs.formDatosSede.validate().then(function(e){e&&(t.agregandoSede?(s.a.agregarSedeEntidad(JSON.parse(r()(t.sedeActual))),t.resetSedeActual(),t.$refs.formDatosSede.reset()):(s.a.setSedeEnArrayEntidad(s.a.state.indiceSede,JSON.parse(r()(t.sedeActual))),t.resetSedeActual(),t.$refs.formDatosSede.reset()),d.$emit("resetMapa"))})},limpiarFormnulario:function(){this.resetSedeActual(),this.$refs.formDatosSede.reset()},resetSedeActual:function(){s.a.setSede({departamento:null,municipio:null,direccion:null,coordenadas:{longitud:null,latitud:null},telefonos:[{valor:null}],faxes:[{valor:null}],correos:[{valor:null}],contactos:[]}),this.sedeActual=this.storeState.sede}},computed:{textoFormulario:function(){return this.agregandoSede?this.textosControles[0]:this.textosControles[1]},textoBtnFormulario:function(){return this.agregandoSede?this.textosControles[0]:this.textosControles[1]}},watch:{"storeState.sede":function(t){this.sedeActual=this.storeState.sede,null!=this.sedeActual.departamento&&null!=this.sedeActual.municipio?this.agregandoSede=!1:(this.agregandoSede=!0,this.$refs.formDatosSede.reset(),d.$emit("resetMapa"))}}},v={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-row",[o("v-col",{attrs:{cols:"12"}},[o("v-card",{attrs:{outlined:""}},[o("v-card-text",[o("ValidationObserver",{ref:"formDatosSede",scopedSlots:t._u([{key:"default",fn:function(e){e.validate;var a=e.reset;return[o("v-form",{on:{reset:function(t){return t.preventDefault(),a(t)}}},[o("v-row",[o("v-col",{attrs:{cols:"6"}},[o("ValidationProvider",{attrs:{name:"Departamento",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[o("v-select",{attrs:{items:t.departamentos,label:"Seleccione un departamento","item-text":"DepartamentoLbl","item-value":"DepartamentoID","return-object":"","error-messages":a},on:{change:t.cargarMunicipios},model:{value:t.sedeActual.departamento,callback:function(e){t.$set(t.sedeActual,"departamento",e)},expression:"sedeActual.departamento"}})]}}],null,!0)})],1),t._v(" "),o("v-col",{attrs:{cols:"6"}},[o("ValidationProvider",{attrs:{name:"Municipio",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[o("v-select",{attrs:{items:t.municipios,label:"Seleccione un municipio","item-text":"MunicipioLbl","item-value":"MUN_ID","no-data-text":"Debe seleccionar un departamento","return-object":"","error-messages":a},model:{value:t.sedeActual.municipio,callback:function(e){t.$set(t.sedeActual,"municipio",e)},expression:"sedeActual.municipio"}})]}}],null,!0)})],1),t._v(" "),o("v-col",{attrs:{cols:"12"}},[o("ValidationProvider",{attrs:{name:"Direccion",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[o("v-textarea",{attrs:{"auto-grow":"",label:"Direccion",rows:"1","error-messages":a},model:{value:t.sedeActual.direccion,callback:function(e){t.$set(t.sedeActual,"direccion",e)},expression:"sedeActual.direccion"}})]}}],null,!0)})],1),t._v(" "),o("v-col",{attrs:{cols:"6"}},[o("ValidationProvider",{attrs:{name:"Longitud",rules:{regex:/^-?[1-9]{1}[0-9]{0,}.[0-9]{1,}$/}},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[o("v-text-field",{attrs:{label:"Longitud","error-messages":a},model:{value:t.sedeActual.coordenadas.longitud,callback:function(e){t.$set(t.sedeActual.coordenadas,"longitud",e)},expression:"sedeActual.coordenadas.longitud"}})]}}],null,!0)})],1),t._v(" "),o("v-col",{attrs:{cols:"6"}},[o("ValidationProvider",{attrs:{name:"Latitud",rules:{regex:/^-?[1-9]{1}[0-9]{0,}.[0-9]{1,}$/}},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[o("v-text-field",{attrs:{label:"Latitud","error-messages":a},model:{value:t.sedeActual.coordenadas.latitud,callback:function(e){t.$set(t.sedeActual.coordenadas,"latitud",e)},expression:"sedeActual.coordenadas.latitud"}})]}}],null,!0)})],1),t._v(" "),o("v-col",{attrs:{cols:"4"}},[o("input-text-dinamico",{attrs:{"prepend-icon":"phone",label:"Telefono","nombre-campo":"Telefono",reglas:{required:!0,regex:/^(2|6|7)[0-9]{3}-[0-9]{4}$/},mascara:"####-####","texto-btn-agregar":"Agregar otro telefono",inputs:t.sedeActual.telefonos,lista:t.sedeActual.telefonos},on:{"update:lista":function(e){return t.$set(t.sedeActual,"telefonos",e)}}})],1),t._v(" "),o("v-col",{attrs:{cols:"4"}},[o("input-text-dinamico",{attrs:{"prepend-icon":"local_printshop",label:"Fax","nombre-campo":"Fax",reglas:{required:!0},"texto-btn-agregar":"Agregar otro fax",inputs:t.sedeActual.faxes,lista:t.sedeActual.faxes},on:{"update:lista":function(e){return t.$set(t.sedeActual,"faxes",e)}}})],1),t._v(" "),o("v-col",{attrs:{cols:"4"}},[o("input-text-dinamico",{attrs:{"prepend-icon":"alternate_email",label:"Correo electronico","nombre-campo":"Correo",reglas:{required:!0,email:!0},"texto-btn-agregar":"Agregar otro correo",inputs:t.sedeActual.correos,lista:t.sedeActual.correos},on:{"update:lista":function(e){return t.$set(t.sedeActual,"correos",e)}}})],1)],1),t._v(" "),o("v-row",[o("v-col",{attrs:{cols:"12"}},[o("div",{staticClass:"text-center"},[o("v-btn",{staticClass:"ma-2",attrs:{color:"primary"},on:{click:t.guardarSede}},[o("v-icon",{attrs:{left:""}},[t._v("check")]),t._v("\n                    "+t._s(t.textoBtnFormulario)+"\n                  ")],1),t._v(" "),o("v-btn",{staticClass:"ma-2",attrs:{color:"default"},on:{click:t.limpiarFormnulario}},[o("v-icon",{attrs:{left:""}},[t._v("clear")]),t._v("Cancelar\n                  ")],1)],1)])],1)],1)]}}])})],1)],1)],1),t._v(" "),o("v-col",{attrs:{cols:"12"}},[o("mapa",{attrs:{config:t.configMapa,coordenadas:t.sedeActual.coordenadas}})],1)],1)},staticRenderFns:[]},p=o("VU/8")(m,v,!1,null,null,null);e.default=p.exports},zsr6:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o("zV5z"),r=o("wwiX"),n={components:{DatosSede:a.default,ContactosSede:r.default},data:function(){return{tabs:null,resetTodo:!1}}},l={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-card",{attrs:{outlined:"",color:"#fff"}},[o("v-card-title",[t._v("Agregar Sede")]),t._v(" "),o("v-card-text",[o("v-tabs",{model:{value:t.tabs,callback:function(e){t.tabs=e},expression:"tabs"}},[o("v-tab",[t._v("Datos Generales")]),t._v(" "),o("v-tab",[t._v("Contactos")])],1),t._v(" "),o("v-tabs-items",{model:{value:t.tabs,callback:function(e){t.tabs=e},expression:"tabs"}},[o("v-tab-item",[o("datos-sede")],1),t._v(" "),o("v-tab-item",[o("contactos-sede")],1)],1)],1)],1)},staticRenderFns:[]},c=o("VU/8")(n,l,!1,null,null,null);e.default=c.exports}});
//# sourceMappingURL=4.0a179c42f642ec54b0e1.js.map