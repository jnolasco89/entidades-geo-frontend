webpackJsonp([1],{"5zde":function(t,a,e){e("zQR9"),e("qyJz"),t.exports=e("FeBl").Array.from},"6DYJ":function(t,a,e){t.exports=e.p+"static/img/logo-conna-transparente.c94131f.png"},"F6E+":function(t,a){},Gu7T:function(t,a,e){"use strict";a.__esModule=!0;var r,s=e("c/Tr"),n=(r=s)&&r.__esModule?r:{default:r};a.default=function(t){if(Array.isArray(t)){for(var a=0,e=Array(t.length);a<t.length;a++)e[a]=t[a];return e}return(0,n.default)(t)}},"c/Tr":function(t,a,e){t.exports={default:e("5zde"),__esModule:!0}},fBQ2:function(t,a,e){"use strict";var r=e("evD5"),s=e("X8DO");t.exports=function(t,a,e){a in t?r.f(t,a,s(0,e)):t[a]=e}},pDFB:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=e("Xxa5"),s=e.n(r),n=e("exGp"),o=e.n(n),i=e("Gu7T"),l=e.n(i),c=e("lwxB"),d=e("bq2E"),v=e("qaY0"),u=e("6DYJ"),g=e.n(u),p=e("whc6"),f=new v.a,m={components:{ListaPaginacion:c.default,ListaSedesEntidad:d.default,Mapa:p.default},mounted:function(){this.cargaInicial()},data:function(){return{verModal:!1,verModalCargando:!1,logo:g.a,cargando:!0,cargarMasEntidades:!1,yaNoHayMasDatos:!1,configMapa:{alto:"600px",eventoClick:{habilitado:!1},autocomplete:{habilitado:!1}},entidadActual:{nombre:null,representanteLegal:null,tipologia:[],sedes:[]},configListaEntidades:{titulo:"Entidades",color:null,encabezados:[{nombre:"datosGenerales",texto:"Datos generales",anchos:{xs:12,sm:12,md:3,lg:3,xl:3}},{nombre:"tipologia",texto:"Tipología",anchos:{xs:12,sm:12,md:3,lg:3,xl:3}},{nombre:"sedes",texto:"Sedes",anchos:{xs:12,sm:12,md:4,lg:4,xl:4}},{nombre:"acciones",texto:"Acciones",anchos:{xs:12,sm:12,md:2,lg:2,xl:2}}],itemAvatar:{ver:!1}},tipologias:[],entidaeds2:[]}},methods:{cargarEntidades:function(){var t=this;this.cargarMasEntidades||(this.cargarMasEntidades=!0,f.getPaginacionEntidades(this.entidaeds2[this.entidaeds2.length-1].id).then(function(a){a.data.length>0?t.entidaeds2=[].concat(l()(t.entidaeds2),l()(a.data)):t.yaNoHayMasDatos=!0,t.cargarMasEntidades=!1}))},verDetallesEntidad:function(t){this.entidadActual=t,this.verModal=!0},cerrarDetallesEntidad:function(){this.verModal=!1,this.entidadActual={nombre:null,representanteLegal:null,tipologia:[]},this.entidadActual.sedes=[]},generarReporte:function(t){var a=this;this.verModalCargando=!0,f.getReporteEntidad(t).then(function(t){window.URL.createObjectURL(new Blob([t.data]));var e=new Blob([t.data],{type:"application/pdf"}),r=window.URL.createObjectURL(e);a.verModalCargando=!1,window.open(r)})},cargaInicial:function(){var t=this;return o()(s.a.mark(function a(){var e;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e=t,a.next=3,f.getCatalogo("tipologias").then(function(t){e.tipologias=t.data});case 3:return a.next=5,f.getPaginacionEntidades(1).then(function(t){e.entidaeds2=t.data});case 5:t.cargando=!1;case 6:case"end":return a.stop()}},a,t)}))()}}},_={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-app",[e("v-content",[e("v-container",{staticClass:"pa-12 grey lighten-4",attrs:{fluid:""}},[e("v-row",{attrs:{justify:"center",align:"center"}},[e("v-col",{attrs:{cols:"1"}},[e("v-img",{attrs:{src:t.logo,alt:"Logo conna",width:"80"}})],1),t._v(" "),e("v-col",{attrs:{cols:"5"}},[e("h1",[t._v("Directorio de entidades inscritas")])])],1),t._v(" "),e("v-row",{attrs:{align:"center",justify:"center"}},[e("v-col",{attrs:{cols:"11"}},[e("v-card",{attrs:{outlined:""}},[e("v-card-text",[e("v-row",{attrs:{justify:"center",align:"center"}},[e("v-col",{attrs:{cols:"5"}},[e("v-text-field",{staticStyle:{"margin-top":"4px"},attrs:{label:"Nombre entidad"}})],1),t._v(" "),e("v-col",{attrs:{cols:"5"}},[e("v-select",{attrs:{label:"Tipologia",multiple:"",chips:"",items:t.tipologias,"item-text":"nombre","return-object":""}})],1),t._v(" "),e("v-col",{attrs:{cols:"1"}},[e("v-btn",{attrs:{color:"primary"}},[e("v-icon",{attrs:{left:""}},[t._v("search")]),t._v("Buscar\n                  ")],1)],1)],1)],1)],1)],1)],1),t._v(" "),e("v-row",{directives:[{name:"show",rawName:"v-show",value:t.cargando,expression:"cargando"}],attrs:{align:"center",justify:"center"}},[e("v-col",{attrs:{cols:"11"}},[t._l(10,function(a){return[e("v-skeleton-loader",{key:"article-"+a,ref:"skeleton",refInFor:!0,staticClass:"mx-auto",attrs:{boilerplate:!1,type:"article",height:"150",tile:!1}}),t._v(" "),e("hr",{key:"hr-"+a})]})],2)],1),t._v(" "),e("v-row",{directives:[{name:"show",rawName:"v-show",value:!t.cargando,expression:"!cargando"}],attrs:{align:"center",justify:"center"}},[e("v-col",{attrs:{cols:"11"}},[e("lista-paginacion",{attrs:{config:t.configListaEntidades,items:t.entidaeds2},scopedSlots:t._u([{key:"datosGenerales",fn:function(a){return[e("v-card",{attrs:{outlined:"",color:"#fff"}},[e("v-card-text",[e("h2",{staticStyle:{color:"black"}},[t._v(t._s(a.item.nombre))])])],1)]}},{key:"tipologia",fn:function(a){return t._l(a.item.tipologia,function(a,r){return e("v-chip",{key:r+"-"+a.id,staticClass:"ma-2"},[t._v(t._s(a.nombre))])})}},{key:"sedes",fn:function(a){return[e("v-list",{attrs:{disabled:""}},[e("v-list-item-group",t._l(a.item.sedes,function(a,r){return e("v-list-item",{key:r+"-"+a.departamento.DepartamentoID+"-"+a.municipio.MunicipioID},[e("v-list-item-icon",[e("v-icon",{attrs:{color:"indigo"}},[t._v("place")])],1),t._v(" "),e("v-list-item-content",[e("v-list-item-title",[t._v(t._s(a.municipio.MunicipioLbl)+", "+t._s(a.departamento.DepartamentoLbl))]),t._v(" "),1==a.tipo.id?e("v-list-item-subtitle",[t._v("Central")]):t._e()],1)],1)}),1)],1)]}},{key:"acciones",fn:function(a){return[e("ul",{staticStyle:{"list-style":"none"}},[e("li",[e("v-btn",{staticClass:"ma-2",attrs:{text:"",color:"primary"},on:{click:function(e){return t.verDetallesEntidad(a.item)}}},[e("v-icon",{attrs:{left:""}},[t._v("info")]),t._v("Detalles\n                  ")],1)],1),t._v(" "),e("li",[e("v-btn",{staticClass:"ma-2",attrs:{text:"",color:"primary"},on:{click:function(e){return t.generarReporte(a.item.id)}}},[e("v-icon",{attrs:{left:""}},[t._v("picture_as_pdf")]),t._v("Reporte\n                  ")],1)],1)])]}}])}),t._v(" "),e("v-row",{attrs:{justify:"center",align:"center"}},[e("v-col",{directives:[{name:"show",rawName:"v-show",value:t.cargarMasEntidades,expression:"cargarMasEntidades"}],attrs:{cols:"12"}},[e("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"success"}})],1),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("div",{staticClass:"text-center"},[e("v-alert",{directives:[{name:"show",rawName:"v-show",value:t.yaNoHayMasDatos,expression:"yaNoHayMasDatos"}],attrs:{type:"success"}},[t._v("No hay nada más que mostrar")]),t._v(" "),e("v-btn",{directives:[{name:"show",rawName:"v-show",value:!t.yaNoHayMasDatos,expression:"!yaNoHayMasDatos"}],attrs:{text:"",color:"primary",disabled:t.cargarMasEntidades},on:{click:t.cargarEntidades}},[t._v("\n                  Cargar más entidades \n                  "),e("v-icon",[t._v("add")])],1)],1)])],1)],1)],1)],1)],1),t._v(" "),e("v-dialog",{attrs:{persistent:"",width:"300"},model:{value:t.verModalCargando,callback:function(a){t.verModalCargando=a},expression:"verModalCargando"}},[e("v-card",{attrs:{color:"success",dark:""}},[e("v-card-text",[e("h4",[t._v("Generando reporte...")]),t._v(" "),e("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),t._v(" "),e("v-dialog",{attrs:{width:"73%",scrollable:""},model:{value:t.verModal,callback:function(a){t.verModal=a},expression:"verModal"}},[e("v-card",[e("v-card-title",{staticClass:"headline primary dark",staticStyle:{color:"white"},attrs:{"primary-title":""}},[t._v("Detalles entidad")]),t._v(" "),e("v-divider"),t._v(" "),e("v-card-text",[e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-card",{attrs:{outlined:""}},[e("v-card-title",[t._v("Datos generales")]),t._v(" "),e("v-card-text",[e("v-row",{attrs:{justify:"start"}},[e("v-col",{attrs:{cols:"12"}},[e("span",[t._v("Nombre")]),t._v(" "),e("br"),t._v(" "),e("p",{staticClass:"label"},[t._v(t._s(t.entidadActual.nombre))])]),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("span",[t._v("Tipologia")]),t._v(" "),e("br"),t._v(" "),t._l(t.entidadActual.tipologia,function(a,r){return e("v-chip",{key:r+"-"+a.id,staticClass:"ma-2"},[t._v(t._s(a.nombre))])})],2)],1)],1)],1)],1),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("lista-sedes-entidad",{attrs:{sedes:t.entidadActual.sedes}})],1),t._v(" "),e("v-col",{attrs:{cols:"12"}},[e("mapa",{attrs:{config:t.configMapa,coordenadas:{longitud:-89.838993,latitud:13.929196}}})],1)],1)],1),t._v(" "),e("v-divider"),t._v(" "),e("v-card-actions",{staticClass:"grey lighten-3"},[e("v-spacer"),t._v(" "),e("v-btn",{attrs:{color:"primary darken-1",text:""},on:{click:t.cerrarDetallesEntidad}},[t._v("Cerrar")])],1)],1)],1),t._v(" "),e("v-dialog",{attrs:{persistent:"",width:"300"},model:{value:t.cargando,callback:function(a){t.cargando=a},expression:"cargando"}},[e("v-card",{attrs:{color:"success",dark:""}},[e("v-card-text",[e("h4",[t._v("Cargando...")]),t._v(" "),e("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)},staticRenderFns:[]};var h=e("VU/8")(m,_,!1,function(t){e("F6E+")},null,null);a.default=h.exports},qyJz:function(t,a,e){"use strict";var r=e("+ZMJ"),s=e("kM2E"),n=e("sB3e"),o=e("msXi"),i=e("Mhyx"),l=e("QRG4"),c=e("fBQ2"),d=e("3fs2");s(s.S+s.F*!e("dY0y")(function(t){Array.from(t)}),"Array",{from:function(t){var a,e,s,v,u=n(t),g="function"==typeof this?this:Array,p=arguments.length,f=p>1?arguments[1]:void 0,m=void 0!==f,_=0,h=d(u);if(m&&(f=r(f,p>2?arguments[2]:void 0,2)),void 0==h||g==Array&&i(h))for(e=new g(a=l(u.length));a>_;_++)c(e,_,m?f(u[_],_):u[_]);else for(v=h.call(u),e=new g;!(s=v.next()).done;_++)c(e,_,m?o(v,f,[s.value,_],!0):s.value);return e.length=_,e}})}});
//# sourceMappingURL=1.96ccc6310538a3e432ee.js.map